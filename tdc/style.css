/* Custom Styles and Animations for LTO TDC Quiz Card Reviewer */

/* --- Keyframe Animations --- */

/* Animation for the card to slide out left after an answer is given */
@keyframes slide-out-left {
  0% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateX(-120%) scale(0.9);
    opacity: 0;
  }
}

/* Animation for the new card to slide in from the right */
@keyframes slide-in-right {
  0% {
    transform: translateX(120%) scale(0.9);
    opacity: 0;
  }
  100% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

/* Pulse animation for correct answer feedback (buttery smooth) */
@keyframes correct-pulse {
  /* Hardcoded hex code to avoid issues with custom variable scope */
  0% {
    box-shadow: 0 0 0 0 rgba(26, 188, 156, 0.7);
  } /* 1abc9c green */
  70% {
    box-shadow: 0 0 0 15px rgba(26, 188, 156, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(26, 188, 156, 0);
  }
}

/* --- Card Styles --- */

#quiz-container {
  /* Set a fixed minimum height for the container to push the next button down */
  min-height: 380px; /* Increased from 350px to prevent overlap */
  background-color: #2c3e50; /* Ensure the main background is consistent */
}

.quiz-card {
  /* Base styles for the card */
  background-color: #2c3e50; /* card-bg: Ensure this matches header-bg */
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  /* Reduced transition time to fix perceived lag */
  transition: all 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  padding: 2rem;
  border-radius: 0;
  /* Removed min-height here; the container's min-height controls the layout */
}

/* Fix for question text readability */
.quiz-card h2 {
  color: #f3f4f6;
  font-weight: 700;
  word-break: break-word;
}

/* Style for manually bolded text (e.g., **0.05**) */
.quiz-card h2 strong {
  color: #e74c3c; /* incorrect-red */
  font-weight: 900;
}

/* --- Interactive Styles --- */

.option-button {
  /* Base styles for the answer buttons */
  transition: all 0.2s ease-in-out;
  cursor: pointer;
  background-color: #3b4e60;
  border-radius: 0.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -2px rgba(0, 0, 0, 0.06);
  opacity: 1;
  /* Reduced the button's internal padding to reduce layout shift */
  padding: 0.75rem 1.25rem;
}

.option-button:not(.disabled):hover {
  background-color: #49637e;
  transform: translateY(-2px);
  box-shadow: 0 8px 10px -3px rgba(0, 0, 0, 0.3);
}

.disabled {
  pointer-events: none;
}

/* --- Feedback States --- */

.correct {
  background-color: #1abc9c !important; /* correct-green */
  color: #1e2b38 !important; /* Dark text on bright background */
  border: 2px solid #1abc9c !important; /* correct-green */
  transform: none !important;
  animation: correct-pulse 0.8s ease-out;
  font-weight: bold;
  opacity: 1 !important;
}

.incorrect {
  background-color: #e74c3c !important; /* incorrect-red */
  color: white !important;
  border: 2px solid #e74c3c !important; /* incorrect-red */
  transform: none !important;
  font-weight: bold;
  opacity: 1 !important;
}

/* Highlight the correct answer when user answers incorrectly */
.correct-answer-highlight {
  background-color: rgba(
    26,
    188,
    156,
    0.4
  ) !important; /* correct-green with opacity */
  color: white !important;
  border: 2px solid #1abc9c !important; /* correct-green */
  font-weight: bold;
  opacity: 1 !important;
}

/* Next button styling */
#next-button {
  border-radius: 0 0 1rem 1rem !important;
}

/* Unselected options need clear text and lower contrast for disabled state, but not fully transparent */
.option-button.disabled {
  color: #a0aec0; /* Muted but readable */
  background-color: #3b4e60;
}

/* Update animation duration in CSS */
.card-leaving {
  animation: slide-out-left 0.3s forwards;
}

.card-entering {
  animation: slide-in-right 0.3s forwards;
}

/* Fix vertical alignment for the icon */
.checkmark-icon {
  font-size: 1.25rem;
  margin-left: 0.5rem;
}
