body {
    /* Ensuring dark background and light text as a fallback, though Tailwind classes should dominate */
    background-color: #171717; /* neutral-900 */
    color: #E5E7EB; /* neutral-200 */
    background-color: #171717 !important; /* Force neutral-900 background - from external block */
}
/* Custom scrollbar for horizontal stories */
.stories-scroll-container::-webkit-scrollbar {
    height: 4px;
}
.stories-scroll-container::-webkit-scrollbar-track {
    background: #262626; /* neutral-800 */
}
.stories-scroll-container::-webkit-scrollbar-thumb {
    background: #4b5563; /* neutral-600 */
    border-radius: 2px;
}
.stories-scroll-container::-webkit-scrollbar-thumb:hover {
    background: #6b7280; /* neutral-500 */
}

/* Loader Styles for dark theme */
.loader {
    border-top-color: #6b7280; /* Gray-500 for contrast */
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Custom gradient for text - example for logo */
.gradient-text-logo {
    background-image: linear-gradient(to right, #6EE7B7, #3B82F6); /* Teal to Blue */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* Force opaque background for modal content */
.force-opaque-bg {
    background-color: #262626 !important; /* neutral-800 */
    opacity: 1 !important;
}

/* --- BEGIN: Force Styles for Inputs (Revised for aesthetics and blur) --- */
#content-type-select {
    background-color: #262626 !important; /* neutral-800 */
    color: #E5E7EB !important; /* neutral-100 */
    border-color: #404040 !important; /* neutral-700 */
    outline: none !important; /* Remove default outline */
}
#content-type-select:focus {
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important; /* focus:ring-blue-500 */
}

#post-caption {
    background-color: #262626 !important; /* neutral-800 */
    color: #E5E7EB !important; /* neutral-100 */
    border-color: #404040 !important; /* neutral-700 */
    outline: none !important;
}
#post-caption:focus {
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important; /* focus:ring-blue-500 */
}
#post-caption::placeholder {
    color: #a3a3a3 !important; /* neutral-400 for placeholder */
}

/* Targeting the file input button specifically */
#media-upload::file-selector-button {
    background-color: #4b5563 !important; /* neutral-600 */
    color: #E5E7EB !important; /* neutral-100 */
    border: none !important; /* Remove any default border */
    padding: 8px 16px !important; /* py-2 px-4 */
    border-radius: 9999px !important; /* rounded-full */
    font-size: 0.875rem !important; /* text-sm */
    font-weight: 600 !important; /* font-semibold */
    margin-right: 16px !important; /* mr-4 */
    transition: background-color 150ms ease-in-out !important; /* transition duration-150 ease-in-out */
    cursor: pointer !important;
}
#media-upload::file-selector-button:hover {
    background-color: #6b7280 !important; /* neutral-500 for hover */
}
/* --- END: Force Styles for Inputs --- */

/* Backdrop blur for modals */
.modal-backdrop-blur {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px); /* For Safari support */
}

/* Force opaque header background */
.force-opaque-header {
    background-color: #171717 !important;
}

/* Story Progress Bar Styles */
.story-progress-bar-container {
    display: flex;
    gap: 4px;
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    z-index: 10;
}
.story-progress-segment {
    flex-grow: 1;
    height: 3px;
    background-color: rgba(255, 255, 255, 0.3); /* Transparent white background */
    border-radius: 1.5px;
    overflow: hidden;
}
.story-progress-segment-inner {
    height: 100%;
    width: 0%; /* Initial state */
    background-image: linear-gradient(to right, #6EE7B7, #3B82F6); /* Echoes gradient */
    border-radius: 1.5px;
    transform-origin: left;
}

/* Animation for the progress bar */
.story-progress-segment-inner.animate-progress {
    animation: progress-animation 5s linear forwards; /* 5 seconds per story */
}

@keyframes progress-animation {
    0% { width: 0%; }
    100% { width: 100%; }
}

/* Toast Notification Styles */
#toast-notification {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
    max-width: 90%;
    text-align: center;
}

#toast-notification.show {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(-10px); /* Slight lift effect */
}

#toast-notification.success {
    background-image: linear-gradient(to right, #2DD4BF, #2563EB); /* Teal-500 to Blue-700 */
    background-color: transparent; /* Ensure no fallback solid color */
}

#toast-notification.error {
    background-color: #dc2626; /* Tailwind red-600 */
}

/* Blur-up styles for images */
/* These classes are applied by JavaScript dynamically to manage the blur effect */
.post-media-image.blur-lg {
    filter: blur(10px);
    transition: filter 0.5s ease-out; /* Smooth transition for the blur effect */
}
.post-media-image:not(.blur-lg) {
    filter: blur(0px);
}

/* Specific styles for the story viewer to handle image sizing and overlay */
#story-viewer-modal .media-display-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

#story-viewer-media-image,
#story-viewer-media-video {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain; /* Ensure the media fits within the container */
    position: absolute; /* Position absolutely within the wrapper */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Center the media */
}

/* Overlay for user info and controls */
#story-viewer-top-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    z-index: 20; /* Higher z-index than progress bar and media */
    background-image: linear-gradient(to bottom, rgba(23, 23, 23, 0.7), transparent); /* Gradient fade */
}

/* Carousel specific styles */
.carousel-container {
    position: relative;
    width: 100%;
    overflow: hidden;
}
.carousel-wrapper {
    display: flex;
    transition: transform 0.5s ease-in-out;
}
.carousel-slide {
    min-width: 100%; /* Each slide takes full width */
    box-sizing: border-box;
    position: relative; /* Added to correctly position absolute children like the loader */
}

/* New: Styles for Post Media Wrapper to fix aspect ratio/zoom issue */
.post-media-wrapper {
    width: 100%;
    height: 500px; /* Fixed height for consistent post feed look */
    max-height: 80vh; /* Max height on smaller screens */
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

@media (max-width: 640px) { /* Adjust for mobile screens */
    .post-media-wrapper {
        height: 400px; /* Smaller height on mobile */
    }
}

.carousel-button {
    /* Critical for the perfect circle */
    width: 30px;              /* Set an explicit width */
    height: 30px;             /* Set the SAME explicit height */
    border-radius: 50%;       /* Makes square a circle */
    padding: 0 !important;     /* Ensure no padding distorts the circle */

    /* Centering the icon */
    display: flex;            /* Use flexbox for modern centering */
    align-items: center;
    justify-content: center;

    /* Your existing styles */
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    cursor: pointer;
    z-index: 10;
}
.carousel-button .material-icons {
    font-size: 20px !important; /* Ensure the icon itself is not too large and is centered */
    line-height: 1; /* Helps with vertical alignment */
}

.carousel-button-prev {
    left: 10px;
}
.carousel-button-next {
    right: 10px;
}
.carousel-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 10;
}
.indicator-dot {
    width: 8px;
    height: 8px;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    cursor: pointer;
}
.indicator-dot.active {
    background-color: white;
}

/* Explicitly ensure the 'hidden' class works */
.hidden {
    display: none !important;
}

/* Force Material Icons font */
.material-icons {
    font-family: 'Material Icons' !important;
    font-weight: normal;
    font-style: normal;
    font-size: 24px; /* Default size, can be overridden by Tailwind */
    display: inline-block;
    line-height: 1;
    text-transform: none;
    letter-spacing: normal;
    word-wrap: normal;
    white-space: nowrap;
    direction: ltr;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'liga';
}

/* New style for seen stories */
#user-bio {
resize: none; /* Prevent manual resizing */
height: 80px; /* Adjust height as needed */
}

/* Style the follow/unfollow button */
#follow-unfollow-btn {
/* Add any specific styles here */
}
