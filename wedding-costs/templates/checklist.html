<!-- Next Steps (legacy panel kept for backward compatibility) -->
<section
  id="nextStepsPanel"
  class="card"
  style="display: none; padding: 16px; margin-top: 36px"
>
  <div
    style="display: flex; justify-content: space-between; align-items: center"
  >
    <h2 style="margin: 0">Next Steps</h2>
    <button
      id="nextStepsBackBtn"
      style="
        padding: 6px 12px;
        background: rgba(255, 255, 255, 0.05);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      "
    >
      Back
    </button>
  </div>

  <div id="nextStepsList" style="margin-top: 20px">
    <!-- tasks injected here -->
  </div>
</section>

<!-- BOTTOM ADD STEP BAR (reused for Checklist & Next Steps) -->
<div
  id="nextStepsAddBar"
  class="add-drawer"
  style="
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 14px;
    background: rgba(7, 16, 37, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 -8px 25px rgba(0, 0, 0, 0.45);
    box-sizing: border-box;
    z-index: 9999;
  "
>
  <div
    id="nextStepsAddInner"
    style="max-width: 900px; margin: 0 auto; width: 100%"
  >
    <input
      id="nextStepInput"
      type="text"
      placeholder="Add checklist itemâ€¦"
      style="
        width: 100%;
        padding: 12px;
        margin-bottom: 8px;
        border-radius: 10px;
        border: none;
        background: var(--card);
        color: white;
        font-size: 16px;
      "
    />

    <textarea
      id="nextStepNotes"
      placeholder="Notes (optional)"
      style="
        width: 100%;
        padding: 12px;
        margin-bottom: 8px;
        border-radius: 10px;
        border: none;
        background: var(--card);
        color: white;
        font-size: 16px;
        min-height: 72px;
        resize: vertical;
        box-sizing: border-box;
      "
    ></textarea>

    <div style="font-size: 12px; color: var(--muted); margin-bottom: 6px">
      Deadline (optional)
    </div>

    <div class="next-date-wrapper" style="margin-bottom: 8px">
      <input id="nextStepDeadline" type="date" class="next-date" />
    </div>

    <button
      id="addNextStepBtn"
      class="btn"
      style="width: 100%; border-radius: 12px"
    >
      Add Item
    </button>
  </div>
</div>
<section
  id="checklistPanel"
  class="card"
  style="display: none; padding: 16px; margin-top: 36px"
>
  <div
    style="display: flex; justify-content: space-between; align-items: center"
  >
    <h2 style="margin: 0">Checklist</h2>
    <div style="display: flex; gap: 8px">
      <button id="openAddChecklistBtn" class="btn">Add Item</button>
      <button id="checklistBackBtn" class="btn ghost">Back</button>
    </div>
  </div>

  <div id="checklistList" style="margin-top: 20px">
    <!-- tasks will be injected by JS -->
  </div>
</section>
