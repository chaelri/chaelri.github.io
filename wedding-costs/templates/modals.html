<div
  id="uploadLoader"
  style="display: none; margin-top: 10px; text-align: center"
>
  <div class="loader-spinner"></div>
  <div style="font-size: 12px; margin-top: 6px; color: var(--muted)">
    Uploading…
  </div>
</div>

<!-- TABLE VIEW (mobile swipe-right) -->
<div id="tableViewPanel">
  <div class="table-header">
    <span>Table View</span>
    <button id="closeTableView">×</button>
  </div>

  <div id="tableViewContent"></div>
</div>

<!-- ATTACHMENTS GALLERY MODAL -->
<div id="galleryPanel">
  <div class="gallery-header">
    <span>Attachments Gallery</span>
    <button id="closeGallery">×</button>
  </div>

  <div id="galleryContent"></div>
</div>
<!-- Fullscreen image preview -->
<div
  id="imgPreviewOverlay"
  style="
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    z-index: 100000;
    align-items: center;
    justify-content: center;
  "
>
  <img
    id="imgPreviewFull"
    src=""
    style="max-width: 90%; max-height: 90%; border-radius: 10px"
  />
</div>

<!-- Fullscreen Viewer -->
<div
  id="imgViewerOverlay"
  style="
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 100000;
    align-items: center;
    justify-content: center;
  "
>
  <!-- Close Button -->
  <button
    id="viewerCloseBtn"
    style="
      position: absolute;
      top: 20px;
      right: 20px;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: none;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-size: 20px;
      cursor: pointer;
      z-index: 1;
    "
  >
    ×
  </button>

  <!-- LEFT NAV -->
  <button
    id="viewerPrevBtn"
    style="
      position: absolute;
      right: 70px;
      top: 95%;
      transform: translateY(-50%);
      width: 42px;
      height: 42px;
      border: none;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.18);
      backdrop-filter: blur(6px);
      color: white;
      font-size: 22px;
      cursor: pointer;
      z-index: 10;
    "
  >
    ‹
  </button>

  <!-- RIGHT NAV -->
  <button
    id="viewerNextBtn"
    style="
      position: absolute;
      right: 20px;
      top: 95%;
      transform: translateY(-50%);
      width: 42px;
      height: 42px;
      border: none;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.18);
      backdrop-filter: blur(6px);
      color: white;
      font-size: 22px;
      cursor: pointer;
      z-index: 10;
    "
  >
    ›
  </button>

  <img
    id="imgViewerFull"
    style="
      max-width: 90%;
      max-height: 90%;
      border-radius: 10px;
      transition: transform 0.2s;
    "
  />
</div>

<!-- Delete Confirmation -->
<div
  id="confirmDeleteOverlay"
  style="
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10000;
    align-items: center;
    justify-content: center;
  "
>
  <div
    style="
      background: #0b152b;
      padding: 20px;
      border-radius: 10px;
      width: 260px;
      text-align: center;
    "
  >
    <div style="margin-bottom: 12px">
      Are you sure you want to delete this image?
    </div>
    <div style="display: flex; gap: 10px; justify-content: center">
      <button id="confirmDeleteYes" class="btn">Delete</button>
      <button id="confirmDeleteNo" class="btn ghost">Cancel</button>
    </div>
  </div>
</div>

<div
  id="saveToast"
  style="
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 14px;
    background: rgb(21 38 53);
    border-radius: 12px;
    color: #70e6a9;
    font-weight: 700;
    backdrop-filter: blur(6px);
    display: none;
    z-index: 9999;
    font-size: 15px;
  "
>
  ✓ Saved!
</div>
<!-- CHECKLIST MODAL -->
<div id="checklistModalOverlay" style="display: none">
  <div id="checklistModal">
    <h3 id="checklistModalTitle">Add Task</h3>

    <input id="clTitle" type="text" placeholder="Task title" />

    <textarea id="clNotes" placeholder="Notes (optional)"></textarea>

    <label class="cl-label">Deadline</label>
    <input id="clDeadline" type="date" />

    <label class="cl-label">Priority</label>
    <div id="clPriorityRow">
      <button type="button" data-prio="low" class="cl-prio-btn low">Low</button>
      <button type="button" data-prio="medium" class="cl-prio-btn medium">
        Medium
      </button>
      <button type="button" data-prio="high" class="cl-prio-btn high">
        High
      </button>
    </div>

    <div class="cl-actions">
      <button id="clCancel" class="btn ghost">Cancel</button>
      <button id="clSave" class="btn">Save</button>
    </div>
  </div>
</div>
