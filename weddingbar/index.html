<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />
    <title>WeddingBar — Costs</title>

    <!-- Link CSS -->
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="/weddingbar/icons/icon-192.png" type="image/png" />
    <link rel="apple-touch-icon" href="/weddingbar/icons/icon-192.png" />

    <!-- PWA manifest -->
    <link rel="manifest" href="/weddingbar/manifest.json" />

    <meta name="theme-color" content="#071025" />
  </head>
  <body>
    <main class="app">
      <header class="app-header">
        <div class="hdr-left">
          <h1 class="app-title">Wedding Costs</h1>
        </div>
        <div class="hdr-right">
          <button id="refreshBtn" class="icon-btn" title="Refresh">⟳</button>
        </div>
      </header>

      <section class="controls card" aria-label="Controls">
        <div class="inputs">
          <input id="name" type="text" placeholder="Item (e.g., Caterer)" />
          <input id="paid" type="number" placeholder="Paid (e.g., 5000)" />
          <input id="total" type="number" placeholder="Total (e.g., 30000)" />
          <label class="chk">
            <input id="booked" type="checkbox" />
            <span class="box" aria-hidden="true"></span>
            <span class="chk-label">Booked</span>
          </label>
        </div>
        <div class="actions">
          <button id="addBtn" class="btn">Add / Save</button>
          <button id="clearBtn" class="btn ghost">Clear</button>
        </div>
      </section>

      <!-- Chart container: layout is dynamic via CSS/JS -->
      <section id="chartSection" class="chart card" aria-label="Cost chart">
        <div id="bars" class="bars horizontal" role="list" aria-live="polite">
          <!-- Bars injected here by script.js -->
        </div>
      </section>

      <section id="detailPanel" class="detail card" aria-hidden="true">
        <!-- Tapped bar details show here -->
      </section>
    </main>
    <!-- Fullscreen image preview -->
    <div
      id="imgPreviewOverlay"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.85);
        z-index: 9999;
        align-items: center;
        justify-content: center;
      "
    >
      <img
        id="imgPreviewFull"
        src=""
        style="max-width: 90%; max-height: 90%; border-radius: 10px"
      />
    </div>

    <!-- Fullscreen Viewer -->
    <div
      id="imgViewerOverlay"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.9);
        z-index: 9999;
        align-items: center;
        justify-content: center;
      "
    >
      <div
        id="viewerLeft"
        style="
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 40%;
          cursor: pointer;
        "
      ></div>

      <div
        id="viewerRight"
        style="
          position: absolute;
          right: 0;
          top: 0;
          bottom: 0;
          width: 40%;
          cursor: pointer;
        "
      ></div>

      <img
        id="imgViewerFull"
        style="
          max-width: 90%;
          max-height: 90%;
          border-radius: 10px;
          transition: transform 0.2s;
        "
      />
    </div>

    <!-- Delete Confirmation -->
    <div
      id="confirmDeleteOverlay"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 10000;
        align-items: center;
        justify-content: center;
      "
    >
      <div
        style="
          background: #0b152b;
          padding: 20px;
          border-radius: 10px;
          width: 260px;
          text-align: center;
        "
      >
        <div style="margin-bottom: 12px">
          Are you sure you want to delete this image?
        </div>
        <div style="display: flex; gap: 10px; justify-content: center">
          <button id="confirmDeleteYes" class="btn">Delete</button>
          <button id="confirmDeleteNo" class="btn ghost">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Use module imports in script.js -->
    <script type="module" src="script.js"></script>
  </body>
</html>
